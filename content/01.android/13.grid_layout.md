---
title: GridLayoutを扱う
description: GridLayoutの実装について紹介・解説します。
navigation: true
draft: false
date: 2025-09-24T07:00:00+09:00
---

ビューを格子状に配置したい場合には`GridLayout`が非常に便利で、`LinearLayout`を複数ネストする必要がなく、
`ConstraintLayout`のように多くの制約を設定しなくても済む。
さらに、子ビューの一部の`LayoutParam`属性に初期値が設定されているため、コードがシンプルになる。

## GridLayoutを使う

さっそくサンプル。

```xml
<?xml version="1.0" encoding="utf-8"?>
<GridLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:columnCount="3"
    android:background="@android:color/holo_red_light"
    android:rowCount="1">

    <TextView
        android:layout_row="0"
        android:layout_column="0"
        android:padding="10dp"
        android:background="@android:color/holo_blue_bright"
        android:text="00" />
    <TextView
        android:layout_row="0"
        android:layout_column="1"
        android:padding="10dp"
        android:background="@android:color/holo_blue_dark"
        android:text="01" />
    <TextView
        android:layout_row="0"
        android:layout_column="2"
        android:padding="10dp"
        android:background="@android:color/holo_green_light"
        android:text="02" />
</GridLayout>
```

`GridLayout`には`columnCount`と`rowCount`を設定し、
子ビューである`TextView`に`layout_row`と`layout_column`で位置を指定している。

また、`GridLayout`の幅は`match_parent`で画面いっぱいに、高さは`wrap_content`で最小限に設定している。
`columnCount`を3、`rowCount`を1にすることで、1行3列の格子状として表示される。


**補足**

子ビューの`layout_width`と`layout_height`が指定されていない。
これは`GridLayout`が子ビューのこれらの属性に **`wrap_content`を初期値として設定している**ため。
なお、このコードを実行すると、各`TextView`は左寄せで表示される。

## 重み付けによる均等配置をする。

`LinearLayout`の`layout_weight`のように、`GridLayout`でも要素を均等に広げることができる。

横幅を均等にするには、子ビューに **`layout_columnWeight`** を設定する。

```xml
<?xml version="1.0" encoding="utf-8"?>
<GridLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:background="@android:color/holo_red_light"
    android:columnCount="3"
    android:rowCount="1">

    <TextView
        android:layout_row="0"
        android:layout_column="0"
        android:layout_columnWeight="1"
        android:background="@android:color/holo_blue_bright"
        android:padding="10dp"
        android:text="00" />

    <TextView
        android:layout_row="0"
        android:layout_column="1"
        android:layout_columnWeight="1"
        android:background="@android:color/holo_blue_dark"
        android:padding="10dp"
        android:text="01" />

    <TextView
        android:layout_row="0"
        android:layout_column="2"
        android:layout_columnWeight="1"
        android:background="@android:color/holo_green_light"
        android:padding="10dp"
        android:text="02" />
</GridLayout>
```

上のサンプルでは、各`TextView`に`layout_columnWeight="1"`を追加することで、画面幅いっぱいに均等に広げて表示している。

高さを均等にするには **`layout_rowWeight`**を使用する。ただし`GridLayout`の高さも固定値（ここでは`100dp`）に設定する必要がある。

```xml
<?xml version="1.0" encoding="utf-8"?>
<GridLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="wrap_content"
    android:layout_height="100dp"
    android:background="@android:color/holo_red_light"
    android:columnCount="1"
    android:rowCount="2">

    <TextView
        android:layout_row="0"
        android:layout_rowWeight="1"
        android:layout_column="0"
        android:background="@android:color/holo_blue_bright"
        android:padding="10dp"
        android:text="00" />

    <TextView
        android:layout_row="1"
        android:layout_rowWeight="1"
        android:layout_column="0"
        android:background="@android:color/holo_green_light"
        android:padding="10dp"
        android:text="10" />

</GridLayout>
```
